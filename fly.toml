# fly.toml app configuration file generated for icp-off-chain-agent-test on 2024-04-12T17:29:18+05:30
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'fueldao-offchain-server'
primary_region = 'bom'
kill_signal = 'SIGTERM'
kill_timeout = '5s'

[build]


[env]
SERVER_PORT="50051"
RUST_LOG = 'info'
EMAIL_CLIENT_ID = "462267493875-qe8r7afhg2gnto5pgdjfoquonel5oka2.apps.googleusercontent.com"


[deploy]
strategy = "immediate"


[[services]]
internal_port = 50051
protocol = "tcp"

[[services.ports]]
handlers = ["tls"]
tls_options = { "alpn" = ["h2"], "versions" = ["TLSv1.2", "TLSv1.3"] }
port = 443

[services.concurrency]
hard_limit = 1000
soft_limit = 500

[[vm]]
memory = '4gb'  # Adjust memory to 2 GB or 4 GB as needed
cpu_kind = 'shared'
cpus = 4        # Use 1 or 2 shared CPUs based on expected load
